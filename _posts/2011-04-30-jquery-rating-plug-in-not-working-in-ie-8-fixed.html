---
layout: post
title: JQuery Rating plug-in - Not working in IE 8 - FIXED
date: 2011-04-30 02:18:00.000000000 +08:00
type: post
published: true
status: publish
categories:
- Jquery
tags:
- Jquery
- Jquery rating
- rating control
meta:
  _wpas_skip_fb: '1'
  blogger_blog: tdtechdiary.blogspot.com
  blogger_author: Taher Dhilawala
  blogger_d55bd4009d1dee1a46eef7a078bee8f9_permalink: '7110076277740209045'
  _edit_last: '14307922'
  _wpas_done_twitter: '1'
author:
  login: tdtechdiary
  email: salaam_taher@yahoo.com
  display_name: Taher Dhilawala
  first_name: ''
  last_name: ''
---
<p style="margin:0 0 10pt;">Recently I was working on a web app where it was required to keep a Rating control (with 5 stars). Instead of re-inventing the wheel, I thought of using one of the existing plug-in. What can be better than a JQuery rating plug-in. I quickly went to the JQuery plug-in site <a href="http://plugins.jquery.com/plugin-tags/rating">here</a> and studied the demo and implemented the script. It worked very smoothly!</p>
<p style="margin:0 0 10pt;">But my joy did not last long L. The moment I opened my web page in IE 8, the rating control was not behaving properly, stars which were pre-selected (like loading the rating value from DB) used to come blank. The same was working in IE 7, but not in IE 8.</p>
<p style="margin:0 0 10pt;">So I did some dissection on the JQuery Rating plug-in and modified it to work with IE 8. Below are the changes which I did,</p>
<p style="margin:0 0 10pt;">Basically the problem was with this line,</p>
<p style="margin:0 0 10pt;">if (0 !== $("#" + id + " option[selected]").size())</p>
<p style="margin:0 0 10pt;">IE 8 does not understand this tag option[selected]for that reason, always the ".size()" returns "0". One option is to replace the above tag with option:selectedbut then our IE 8 will by default select the first element in the drop down (select) box and so even if no rating is given, the first star will be selected. This is IE's behaviour. To overcome this problem, I modified the rating.js file,</p>
<pre>var selectOptions = document.getElementById(id).getElementsByTagName("option");
    var selectOptionCount = 0;
    for (var i = 0; i &lt; selectOptions.length; i++) {
        var sValue = selectOptions[i].className;
        if (sValue == "selected") {
            selectOptionCount++;
            selectOptions[i].selected = true;
        }
    }</pre>
<p style="margin:0 0 10pt;">For above code to work, the only change you need to do is, instead of putting selected="selected" for the selected item, put class = "selected" and the rating plug-in will automatically take care. This has been tested in IE 7, IE 8, Firefox 3.6.17, 4.0 &amp; Chrome.</p>
<p style="margin:0 0 10pt;">You can download the modified JQuery Rating Plug-in <a href="http://www.mediafire.com/?7t9m5we741x2ppf" target="_blank">here</a></p>
<p style="margin:0 0 10pt;">Hope it helps!</p>
<p style="margin:0 0 10pt;">
